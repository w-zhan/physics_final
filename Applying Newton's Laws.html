<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <title>åŠ›å­¸å¯¦é©—å®¤ - æ‘©æ“¦åŠ›åˆ†æå°ˆé¡Œ</title>
    <style>
        :root {
            --phet-blue: #004a99;
            --control-bg: #e5f1d8;
            --panel-bg: #f8fafc;
            --sky-top: #87ceeb;
            --sky-bottom: #e0f6ff;
            --accent-green: #10b981;
        }

        * { box-sizing: border-box; margin: 0; padding: 0; font-family: 'Segoe UI', 'Microsoft JhengHei', sans-serif; }
        body { background-color: #334155; height: 100vh; display: flex; flex-direction: column; overflow: hidden; }

        /* é ‚éƒ¨å°è¦½ - åªç•™æ‘©æ“¦åŠ›åˆ†æ */
        nav {
            background: linear-gradient(to bottom, #1e293b, #0f172a);
            height: 45px; display: flex; align-items: center; padding: 0 20px; border-bottom: 2px solid #000;
        }
        nav h1 { color: white; font-size: 18px; margin-right: 30px; }
        nav span { color: var(--accent-green); font-size: 14px; font-weight: bold; border-bottom: 2px solid var(--accent-green); cursor: pointer; }

        .main-container { display: flex; flex: 1; padding: 10px; gap: 10px; background: #cbd3e1; overflow: hidden; }

        /* å·¦å´æ¨¡æ“¬å€ */
        .simulation-container {
            flex: 1; background: linear-gradient(to bottom, var(--sky-top), var(--sky-bottom));
            border: 2px solid #555; border-radius: 8px; position: relative; display: flex; flex-direction: column;
        }
        canvas { width: 100%; flex: 1; display: block; }

        /* ä¸‹æ–¹æ–½åŠ›æ§åˆ¶ */
        .bottom-controls {
            height: 160px; background: var(--control-bg); border-top: 2px solid #888;
            padding: 15px; display: flex; flex-direction: column; align-items: center;
        }
        .input-force { width: 80%; accent-color: #b35900; height: 25px; }

        /* å³å´æ•™å­¸èˆ‡å°è€ƒé¢æ¿ */
        .edu-panel {
            width: 420px; background: var(--panel-bg); border: 2px solid #888; border-radius: 8px;
            padding: 20px; display: flex; flex-direction: column; gap: 15px; overflow-y: auto;
        }
        .edu-section { background: white; border-left: 5px solid var(--phet-blue); padding: 15px; border-radius: 4px; box-shadow: 0 2px 4px rgba(0,0,0,0.05); }
        .edu-title { font-weight: bold; color: var(--phet-blue); margin-bottom: 8px; font-size: 16px; border-bottom: 1px solid #eee; }
        .edu-content { font-size: 14px; line-height: 1.6; color: #334155; }
        
        /* å°è€ƒæ¨£å¼ */
        .quiz-option { 
            display: block; width: 100%; padding: 12px; margin: 8px 0; 
            border: 1px solid #ddd; background: #fff; border-radius: 6px; 
            cursor: pointer; text-align: left; font-size: 14px; transition: 0.2s;
        }
        .quiz-option:hover { background: #f1f5f9; border-color: var(--phet-blue); }
        .feedback { margin-top: 10px; padding: 12px; border-radius: 4px; display: none; font-size: 13px; font-weight: bold; line-height: 1.4; }

        .btn-reset { background: #ef4444; color: white; border: none; padding: 12px; border-radius: 6px; cursor: pointer; font-weight: bold; margin-top: auto; transition: 0.3s; }
        .btn-reset:hover { background: #dc2626; }
    </style>
</head>
<body>

<nav>
    <h1>æ‘©æ“¦åŠ›åˆ†æ</h1>
   
</nav>

<div class="main-container">
    <div class="simulation-container">
        <canvas id="simCanvas"></canvas>
        <div class="bottom-controls">
            <div style="font-weight:bold; margin-bottom:10px;">æ–½åŠ› Applied Force: <span id="val-f" style="color:red; font-size:24px;">0</span> N</div>
            <input type="range" id="slider-f" min="-500" max="500" value="0" class="input-force">
            <div style="display:flex; gap:30px; margin-top:15px; font-size:14px;">
                <label>æ‘©æ“¦ä¿‚æ•¸ (Î¼): <input type="range" id="slider-mu" min="0" max="0.8" step="0.1" value="0.3"> <b id="val-mu">0.3</b></label>
                <label>ç‰©é«”è³ªé‡ (m): <input type="range" id="slider-m" min="10" max="200" step="10" value="50"> <b id="val-m">50</b> kg</label>
            </div>
        </div>
    </div>

    <div class="edu-panel">
        <div class="edu-section">
            <div class="edu-title">ğŸ“– å®šç†è§£é‡‹ï¼šæ‘©æ“¦åŠ› (Friction)</div>
            <div class="edu-content">
                ç•¶å…©ç‰©é«”è¡¨é¢æ¥è§¸ä¸¦æœ‰ç›¸å°é‹å‹•æˆ–è¶¨å‹¢æ™‚ï¼Œæœƒç”¢ç”Ÿé˜»ç¤™é‹å‹•çš„åŠ›ã€‚
                <ul>
                    <li><b>éœæ‘©æ“¦åŠ›ï¼š</b>ç‰©é«”éœæ­¢æ™‚ï¼Œéš¨æ¨åŠ›å¢åŠ è€Œå¢åŠ ã€‚</li>
                    <li><b>æœ€å¤§éœæ‘©æ“¦åŠ›ï¼š</b>å•Ÿå‹•ç¬é–“æ‰€éœ€çš„æœ€å°åŠ› f_{s,max} = mu_s N)ã€‚</li>
                    <li><b>å‹•æ‘©æ“¦åŠ›ï¼š</b>æ»‘å‹•éç¨‹ä¸­çš„å®šå€¼é˜»åŠ› (f_k = mu_k N)ã€‚</li>
                </ul>
            </div>
        </div>
        

[Image of static and kinetic friction graph]


        <div class="edu-section">
            <div class="edu-title">ğŸ§ª æ¢ç©¶ä»»å‹™ï¼šè‡¨ç•Œé»å¯¦é©—</div>
            <div class="edu-content">
                1. <b>æ¸¬è©¦å•Ÿå‹•ï¼š</b>è¨­å®šè³ªé‡ 100kgï¼Œæ‘©æ“¦ä¿‚æ•¸ 0.5ã€‚æ…¢æ…¢æ‹‰å‹•æ–½åŠ›æ»‘æ¡¿ï¼Œæœ¨ç®±åœ¨æ¥è¿‘ 500N ä¹‹å‰æ˜¯å¦å®Œå…¨ä¸å‹•ï¼Ÿ<br>
                2. <b>æ…£æ€§è§€å¯Ÿï¼š</b>çµ¦äºˆæœ¨ç®±åˆé€Ÿå¾Œå°‡æ¨åŠ›è¨­ç‚º 0ï¼Œè§€å¯Ÿæœ¨ç®±æ¸›é€Ÿçš„éç¨‹ï¼Œæ€è€ƒæ‘©æ“¦åŠ›å¦‚ä½•å°ç‰©é«”ä½œè² åŠŸã€‚
            </div>
        </div>

        <div class="edu-section" style="background: #f0fdf4; border-left-color: #22c55e;">
            <div class="edu-title">ğŸ“ éš¨å ‚å°è€ƒ</div>
            <div class="edu-content">
                <p><b>Qï¼šè‹¥æœ¨ç®±åœ¨åœ°é¢æ»‘è¡Œä¸­ï¼Œå¢åŠ æœ¨ç®±çš„è³ªé‡ï¼Œæ‘©æ“¦åŠ›æœƒå¦‚ä½•è®ŠåŒ–ï¼Ÿ</b></p>
                <button class="quiz-option" onclick="checkQuiz(this, true, 'æ­£ç¢ºï¼è³ªé‡å¢åŠ æœƒå¢åŠ æ­£å‘åŠ› (N)ï¼Œé€²è€Œå¢åŠ æ‘©æ“¦åŠ›ã€‚')">æ‘©æ“¦åŠ›è®Šå¤§</button>
                <button class="quiz-option" onclick="checkQuiz(this, false, 'ä¸å°å–”ï¼Œæ‘©æ“¦åŠ›èˆ‡æ­£å‘åŠ›æœ‰é—œï¼Œè€Œè³ªé‡æ±ºå®šäº†é‡åŠ›èˆ‡æ­£å‘åŠ›ã€‚')">æ‘©æ“¦åŠ›è®Šå°</button>
                <button class="quiz-option" onclick="checkQuiz(this, false, 'éŒ¯èª¤ã€‚æ‘©æ“¦åŠ›å…¬å¼ f = Î¼N ä¸­ï¼Œè³ªé‡éš±è—åœ¨ N è£¡é¢ã€‚')">æ‘©æ“¦åŠ›ä¿æŒä¸è®Š</button>
                <div id="quiz-feedback" class="feedback"></div>
            </div>
        </div>

        <button class="btn-reset" onclick="resetAll()">é‡è¨­å¯¦é©—å®¤æ•¸æ“š</button>
    </div>
</div>

<script>
    const canvas = document.getElementById('simCanvas');
    const ctx = canvas.getContext('2d');

    let st = { f: 0, m: 50, mu: 0.3, x: 0, v: 0, fric: 0, running: true };

    function resetAll() {
        st.f = 0; st.v = 0; st.x = 0;
        document.getElementById('slider-f').value = 0;
        document.getElementById('quiz-feedback').style.display = 'none';
        updateUI();
    }

    function checkQuiz(btn, isCorrect, msg) {
        const feedback = document.getElementById('quiz-feedback');
        feedback.innerText = msg;
        feedback.style.display = 'block';
        feedback.style.color = isCorrect ? '#065f46' : '#991b1b';
        feedback.style.backgroundColor = isCorrect ? '#dcfce7' : '#fee2e2';
    }

    document.getElementById('slider-f').oninput = e => { st.f = parseInt(e.target.value); updateUI(); };
    document.getElementById('slider-m').oninput = e => { st.m = parseInt(e.target.value); updateUI(); };
    document.getElementById('slider-mu').oninput = e => { st.mu = parseFloat(e.target.value); updateUI(); };

    function updateUI() {
        document.getElementById('val-f').innerText = st.f;
        document.getElementById('val-mu').innerText = st.mu;
        document.getElementById('val-m').innerText = st.m;
    }

    function physics() {
        const g = 9.8;
        const frictionMax = st.m * g * st.mu;
        
        // éœæ…‹èˆ‡å‹•æ…‹æ‘©æ“¦åŠ›é‚è¼¯
        if (Math.abs(st.v) < 0.05) {
            if (Math.abs(st.f) > frictionMax) {
                // å…‹æœæœ€å¤§éœæ‘©æ“¦
                st.fric = -Math.sign(st.f) * (frictionMax * 0.8); // é€²å…¥å‹•æ‘©æ“¦ï¼Œé€šå¸¸ç•¥å°æ–¼éœæ‘©æ“¦
            } else {
                // éœæ‘©æ“¦å¹³è¡¡
                st.fric = -st.f;
                st.v = 0;
            }
        } else {
            // å‹•æ‘©æ“¦åŠ›
            st.fric = -Math.sign(st.v) * (frictionMax * 0.8);
            // é€Ÿåº¦å¿«æ­¸é›¶æ™‚é–å®š
            if (Math.abs(st.v) < 0.1 && Math.abs(st.f) <= frictionMax) {
                st.v = 0;
            }
        }

        let accel = (st.f + st.fric) / st.m;
        st.v += accel * 0.016;
        st.x += st.v * 0.016;

        // é‚Šç•Œæ§åˆ¶
        if (st.x > 10.5) { st.x = 10.5; st.v = 0; }
        if (st.x < -10.5) { st.x = -10.5; st.v = 0; }
    }

    function draw() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        const cw = canvas.width, ch = canvas.height, groundY = ch - 60;
        const boxX = cw/2 + (st.x * (cw/25)), boxSize = 50 + st.m/5;

        // ç¹ªè£½èƒŒæ™¯èˆ‡åœ°é¢
        ctx.fillStyle = "#8b5a2b"; ctx.fillRect(0, groundY, cw, 60); // åœ°å±¤
        ctx.fillStyle = "#6d4c41"; ctx.fillRect(0, groundY, cw, 5);  // åœ°è¡¨ç·š
        
        // åˆ»åº¦å°º
        ctx.fillStyle = "#334155"; ctx.textAlign = "center";
        ctx.font = "bold 12px Arial";
        for(let i=-10; i<=10; i+=2) {
            let tx = cw/2 + (i * (cw/25));
            ctx.fillRect(tx, groundY, 2, 10);
            ctx.fillText(i + "m", tx, groundY + 25);
        }

        // ç¹ªè£½ç²¾ç·»å°äºº
        const side = Math.sign(st.f) || 1;
        const px = boxX - (boxSize/2 + 20) * side;
        const py = groundY - 55;
        
        ctx.strokeStyle = "#1e293b"; ctx.lineWidth = 4; ctx.lineCap = "round";
        // é ­éƒ¨
        ctx.beginPath(); ctx.arc(px, py - 18, 9, 0, Math.PI*2); ctx.stroke();
        // èº«é«”
        ctx.beginPath(); ctx.moveTo(px, py - 9); ctx.lineTo(px - 5*side, py + 18); ctx.stroke();
        // æ‰‹éƒ¨ (æ¨çš„å§¿æ…‹)
        ctx.beginPath(); ctx.moveTo(px, py); 
        ctx.lineTo(boxX - (boxSize/2)*side, groundY - boxSize*0.6); ctx.stroke();
        // è…¿éƒ¨
        ctx.beginPath(); ctx.moveTo(px - 5*side, py + 18); ctx.lineTo(px - 18*side, groundY); ctx.stroke();
        ctx.beginPath(); ctx.moveTo(px - 5*side, py + 18); ctx.lineTo(px + 4*side, groundY); ctx.stroke();

        // ç¹ªè£½æœ¨ç®±
        ctx.fillStyle = "#d2b48c"; ctx.strokeStyle = "#5d4037"; ctx.lineWidth = 3;
        ctx.fillRect(boxX - boxSize/2, groundY - boxSize, boxSize, boxSize);
        ctx.strokeRect(boxX - boxSize/2, groundY - boxSize, boxSize, boxSize);
        // ç®±å­å°è§’ç·šå¼·åŒ–è³ªæ„Ÿ
        ctx.beginPath(); ctx.moveTo(boxX-boxSize/2, groundY-boxSize); ctx.lineTo(boxX+boxSize/2, groundY); ctx.stroke();

        // ç¹ªè£½å‘é‡ç®­é ­
        if (Math.abs(st.f) > 1) {
            drawArrow(boxX, groundY - boxSize - 30, st.f * 0.4, "#f43f5e", "æ–½åŠ› (Applied)");
        }
        if (Math.abs(st.fric) > 1) {
            drawArrow(boxX, groundY - 10, st.fric * 0.4, "#3b82f6", "æ‘©æ“¦åŠ› (Friction)");
        }

        physics();
        requestAnimationFrame(draw);
    }

    function drawArrow(x, y, len, col, lab) {
        if (Math.abs(len) < 5) return;
        ctx.strokeStyle = col; ctx.fillStyle = col; ctx.lineWidth = 4;
        ctx.beginPath(); ctx.moveTo(x, y); ctx.lineTo(x + len, y); ctx.stroke();
        let head = len > 0 ? 8 : -8;
        ctx.beginPath(); ctx.moveTo(x + len, y);
        ctx.lineTo(x + len - head, y - 6);
        ctx.lineTo(x + len - head, y + 6);
        ctx.fill();
        ctx.font = "bold 13px Arial";
        ctx.fillText(lab, x + len/2, y - 12);
    }

    window.onload = () => {
        canvas.width = canvas.offsetWidth;
        canvas.height = canvas.offsetHeight;
        updateUI();
        draw();
    };
</script>
</body>
</html>